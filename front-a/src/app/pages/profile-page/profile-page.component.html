<div class="flex min-h-screen bg-indigo-50">
    <app-side-bar></app-side-bar>

    <div class="flex-1 p-6">
        <!-- Información Personal -->
        <div class="bg-white shadow-md rounded-lg p-6 mb-6">
            <div class="flex justify-between items-center mb-4">
                <h2 class="text-2xl font-bold text-indigo-700">
                    <i class="fas fa-user text-indigo-500 mr-2"></i>Información Personal
                </h2>
            </div>
            <div class="grid grid-cols-1 md:grid-cols-2 gap-6">
                <div>
                    <p><strong>Email:</strong> {{ user?.email }}</p>
                    <p><strong>Teléfono:</strong> {{ user?.cellphone }}</p>
                    <p *ngIf="user?.personal_site">
                        <strong>Sitio Web:</strong>
                        <a [href]="user.personal_site" class="text-indigo-600 hover:underline">{{ user.personal_site }}</a>
                    </p>
                    <p *ngIf="user?.personal_description">
                        <strong>Descripción:</strong> {{ user.personal_description }}
                    </p>
                </div>
                <div *ngIf="mainAddress?.city">
                    <p><strong>País:</strong> {{ mainAddress.country }}</p>
                    <p><strong>Ciudad:</strong> {{ mainAddress.city }}</p>
                    <p *ngIf="mainAddress.street"><strong>Dirección:</strong> {{ mainAddress.street }}</p>
                </div>
            </div>
        </div>

        <!-- Experiencia Laboral -->
        <div class="bg-white shadow-md rounded-lg p-6 mb-6" *ngIf="latestWork?.name_company">
            <div class="flex justify-between items-center mb-4">
                <h2 class="text-2xl font-bold text-indigo-700">
                    <i class="fas fa-briefcase text-indigo-500 mr-2"></i>Experiencia Laboral
                </h2>
            </div>
            <div>
                <p><strong>Empresa:</strong> {{ latestWork.name_company }}</p>
                <p><strong>Cargo:</strong> {{ latestWork.job_title }}</p>
                <p><strong>Periodo:</strong> 
                    {{ formatDate(latestWork.start_work_date) }} - 
                    {{ latestWork.currently_working ? 'Presente' : formatDate(latestWork.end_work_date) }}
                </p>
                <p *ngIf="latestWork.description_of_the_job">
                    <strong>Descripción:</strong> {{ latestWork.description_of_the_job }}
                </p>
            </div>
        </div>

        <!-- Educación -->
        <div class="bg-white shadow-md rounded-lg p-6 mb-6" *ngIf="latestEducation?.name_institution">
            <div class="flex justify-between items-center mb-4">
                <h2 class="text-2xl font-bold text-indigo-700">
                    <i class="fas fa-graduation-cap text-indigo-500 mr-2"></i>Educación
                </h2>
            </div>
            <div>
                <p><strong>Institución:</strong> {{ latestEducation.name_institution }}</p>
                <p><strong>Título:</strong> {{ latestEducation.degree_studied }}</p>
                <p><strong>Nivel:</strong> {{ getDegreeLevel(latestEducation.degree_level) }}</p>
                <p><strong>Periodo:</strong> 
                    {{ formatDate(latestEducation.start_studied_date) }} - 
                    {{ latestEducation.currently_studying ? 'Presente' : formatDate(latestEducation.end_studied_date) }}
                </p>
            </div>
        </div>

        <!-- Habilidades y Competencias -->
        <div class="bg-white shadow-md rounded-lg p-6 mb-6">
            <div class="grid grid-cols-1 md:grid-cols-3 gap-6">
                <!-- Idiomas -->
                <div *ngIf="languages.length">
                    <h3 class="text-lg font-bold text-indigo-700 mb-2">
                        <i class="fas fa-language text-indigo-500 mr-2"></i>Idiomas
                    </h3>
                    <ul class="list-disc pl-5">
                        <li *ngFor="let lang of languages">
                            {{ lang.name }} - {{ getLanguageLevel(lang.language_level) }}
                        </li>
                    </ul>
                </div>

                <!-- Habilidades Técnicas -->
                <div *ngIf="skills.length">
                    <h3 class="text-lg font-bold text-indigo-700 mb-2">
                        <i class="fas fa-tools text-indigo-500 mr-2"></i>Habilidades
                    </h3>
                    <ul class="list-disc pl-5">
                        <li *ngFor="let skill of skills">
                            {{ skill.skill_name }} (Nivel {{ skill.skill_proficiency }})
                        </li>
                    </ul>
                </div>

                <!-- Competencias -->
                <div *ngIf="competencies.length">
                    <h3 class="text-lg font-bold text-indigo-700 mb-2">
                        <i class="fas fa-certificate text-indigo-500 mr-2"></i>Competencias
                    </h3>
                    <ul class="list-disc pl-5">
                        <li *ngFor="let comp of competencies">
                            {{ comp.name_competencies }} (Nivel {{ comp.competencies_proficiency }})
                        </li>
                    </ul>
                </div>
            </div>
        </div>
    </div>
</div>