<div class="cv-container bg-white p-8 mx-auto shadow-lg">
    <!-- Header -->
    <div class="flex items-center mb-6">
        <img [src]="user.profile_picture || 'assets/profile-icon-design-free-vector.jpg'" alt="Profile"
            class="w-24 h-24 object-cover rounded-lg mr-6" />
        <div>
            <h1 class="text-3xl font-bold">{{ user.first_name }} {{ user.last_name }}</h1>
            <p class="text-indigo-600 mt-1">{{ user.personal_description }}</p>
        </div>
    </div>

    <!-- Contact Info -->
    <div class="grid grid-cols-2 gap-4 mb-8">
        <div><strong>Email:</strong> {{ user.email }}</div>
        <div><strong>Phone:</strong> {{ user.cellphone }}</div>
        <div class="col-span-2"><strong>Website:</strong>
            <a [href]="user.personal_site" class="text-indigo-600">{{ user.personal_site }}</a>
        </div>
        <div class="col-span-2">
            <strong>Location:</strong> {{ user.addresses[0].city }}, {{ user.addresses[0].country }}
        </div>
    </div>

    <hr class="mb-8">

    <!-- Work Experience -->
    <section class="mb-8">
        <h2 class="text-2xl font-semibold text-indigo-700 mb-4">Work Experience</h2>
        <div *ngFor="let w of user.work_experiences" class="mb-4">
            <h3 class="font-semibold">{{ w.name_company }}</h3>
            <span class="text-sm text-gray-600">
                {{ formatPeriod(w.start_work_date, w.end_work_date, w.currently_working) }}
            </span>
            <p class="mt-1 text-gray-800">{{ w.job_title }} â€“ {{ w.description_of_the_job }}</p>
        </div>
    </section>

    <!-- Education -->
    <section class="mb-8">
        <h2 class="text-2xl font-semibold text-indigo-700 mb-4">Education</h2>
        <div *ngFor="let e of user.educations" class="mb-4">
            <h3 class="font-semibold">{{ e.name_institution }}</h3>
            <span class="text-sm text-gray-600">
                {{ formatPeriod(e.start_studied_date, e.end_studied_date, e.currently_studying) }}
            </span>
            <p class="mt-1 text-gray-800">{{ e.degree_studied }} ({{ e.degree_level }})</p>
        </div>
    </section>

    <div class="flex gap-8">
        <!-- Languages -->
        <section class="flex-1">
            <h2 class="text-2xl font-semibold text-indigo-700 mb-4">Languages</h2>
            <ul class="list-disc list-inside">
                <li *ngFor="let l of user.languages">{{ l.name }} ({{ l.language_level }})</li>
            </ul>
        </section>

        <!-- Skills & Competencies -->
        <section class="flex-1">
            <h2 class="text-2xl font-semibold text-indigo-700 mb-4">Skills & Competencies</h2>
            <ul class="space-y-2">
                <li *ngFor="let s of user.skills">
                    {{ s.name }}:
                    <span class="inline-block h-2 w-16 bg-indigo-200 rounded-full">
                        <span class="block h-2 bg-indigo-600 rounded-full"
                            [style.width.%]="(s.proficiency / 5 * 100)"></span>
                    </span>
                </li>
                <li *ngFor="let c of user.competencies">
                    {{ c.name }}:
                    <span class="inline-block h-2 w-16 bg-red-200 rounded-full">
                        <span class="block h-2 bg-red-600 rounded-full"
                            [style.width.%]="(c.proficiency / 5 * 100)"></span>
                    </span>
                </li>
            </ul>
        </section>
    </div>
</div>